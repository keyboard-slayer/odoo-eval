<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="s_mega_menu_ecommerce_categories"
              name="eCommerce Categories Mega Menu"
              groups="base.group_user">
        <section class="s_mega_menu_ecommerce_categories pt8 pb8 o_colored_level o_cc o_cc1 "
                 data-template-id="website_sale.s_mega_menu_ecommerce_categories">
            <div class="container">
                <div class="row">
                    <t t-set="categories"
                       t-value="request.env['product.public.category'].search([('parent_id', '=', False)])"/>
                    <t t-foreach="categories" t-as="category">
                        <div class="col-md-6 col-lg-4 pt8 pb8">
                            <h6 class="o_default_snippet_text text-uppercase fw-bold mt-0">
                                <a t-att-href="'/shop/category/%s' % category.id"
                                   class="nav-link o_default_snippet_text p-0"
                                   t-esc="category.name"/>
                            </h6>
                            <nav class="nav flex-column">
                                <t t-foreach="category.child_id" t-as="sub_category">
                                    <a t-att-href="'/shop/category/%s' % sub_category.id"
                                       class="nav-link o_default_snippet_text text-secondary p-0"
                                       t-esc="sub_category.name"/>
                                </t>
                            </nav>
                        </div>
                    </t>
                </div>
            </div>
        </section>
    </template>
</odoo>

