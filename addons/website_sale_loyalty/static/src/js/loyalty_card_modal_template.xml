<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">
    <t t-name="website_sale_loyalty.modal_loyalty_card_reward" t-inherit="loyalty.modal_loyalty_card" t-inherit-mode="extension">
        <xpath expr="//Dialog/div/a[@id='more_history']" position="replace" >
            <t t-if="props.program.program_type == 'loyalty'">
                <div t-foreach="props.rewards" t-as="reward" t-key="reward_index">
                    <div class="d-flex border rounded align-items-center justify-content-center p-2">
                        <div class="flex-fill fs-6"><t t-out="reward.description"></t></div>
                        <span class="text-primary" t-out="reward.points"></span>
                    </div>
                </div>
                <div class="d-flex justify-content-between mt-2">
                    <a t-att-href="'/my/loyalty_card/history/' + props.card.id">
                        -> See History
                    </a>
                    <a type="button" href="/shop" class="btn btn-primary">Use it now</a>
                </div>
            </t>
            <t t-else="">
                <a t-att-href="'/my/loyalty_card/history/' + props.card.id">
                    -> See History
                </a>
            </t>
        </xpath>
    </t>
</templates>