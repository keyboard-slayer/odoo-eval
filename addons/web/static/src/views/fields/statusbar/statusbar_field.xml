<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">

    <t t-name="web.StatusBarField">
        <div class="o_statusbar_status">
            <t t-set="items" t-value="computeItems()" />

            <t t-if="items.folded.length">
                <Dropdown>
                    <button type="button" class="btn btn-secondary dropdown-toggle" t-att-class="{ 'o_arrow_button': !env.isSmall, 'btn-primary': env.isSmall }">
                        <t t-if="env.isSmall">
                            <t t-esc="currentName" />
                        </t>
                        <t t-else="">More</t>
                    </button>
                    <t t-set-slot="content">
                        <t t-foreach="items.folded" t-as="item" t-key="item.id">
                            <DropdownItem
                                onSelected="() => this.selectItem(item)"
                                class="{ active: item.isSelected, disabled: item.isSelected || this.props.isDisabled }"
                            >
                                <t t-esc="item.name"/>
                            </DropdownItem>
                        </t>
                    </t>
                </Dropdown>
            </t>

            <t t-foreach="items.unfolded.reverse()" t-as="item" t-key="item.id">
                <t t-if="item.isSelected">
                    <button
                        type="button"
                        class="btn btn-secondary o_arrow_button_current o_arrow_button disabled"
                        disabled="disabled"
                        role="radio"
                        aria-label="Current state"
                        aria-checked="true"
                        aria-current="step"
                        t-att-disabled="props.isDisabled"
                        t-att-data-value="item.id"
                        t-esc="item.name"
                    />
                </t>
                <t t-elif="props.isDisabled">
                    <button
                        type="button"
                        class="btn btn-secondary o_arrow_button disabled"
                        disabled="disabled"
                        role="radio"
                        aria-label="Not active state"
                        aria-checked="false"
                        t-att-disabled="props.isDisabled"
                        t-att-data-value="item.id"
                        t-esc="item.name"
                    />
                </t>
                <t t-else="">
                    <button
                        type="button"
                        class="btn btn-secondary o_arrow_button"
                        role="radio"
                        aria-label="Not active state, click to change it"
                        aria-checked="false"
                        t-att-data-value="item.id"
                        t-esc="item.name"
                        t-on-click="() => this.selectItem(item)"
                    />
                </t>
            </t>
        </div>
    </t>

</templates>
