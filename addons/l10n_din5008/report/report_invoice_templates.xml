<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="report_invoice_document" inherit_id="account.report_invoice_document">
        <xpath expr="//t[@t-call='web.external_layout']" position="inside">
            <t t-set="din5008_document_title">
                <h2 t-if="o.move_type == 'out_invoice' and o.state == 'posted'">Invoice</h2>
                <h2 t-elif="o.move_type == 'out_invoice' and o.state == 'draft'">Draft Invoice</h2>
                <h2 t-elif="o.move_type == 'out_invoice' and o.state == 'cancel'">Cancelled Invoice</h2>
                <h2 t-elif="o.move_type == 'out_refund'">Credit Note</h2>
                <h2 t-elif="o.move_type == 'in_refund'">Vendor Credit Note</h2>
                <h2 t-elif="o.move_type == 'in_invoice'">Vendor Bill</h2>
                <h2 t-else=""> </h2>
            </t>
            <t t-set="information_block">
                <table>
                    <tr t-if="o.name">
                        <td>Invoice No.</td>
                        <td t-out="o.name"/>
                    </tr>
                    <tr t-if="o.invoice_date">
                        <td>Invoice Date</td>
                        <td t-out="o.invoice_date"/>
                    </tr>
                    <tr t-if="o.invoice_date_due">
                        <td>Due Date</td>
                        <td t-out="o.invoice_date_due"/>
                    </tr>
                    <tr t-if="o.invoice_origin">
                        <td>Source</td>
                        <td t-out="o.invoice_origin"/>
                    </tr>
                    <tr t-if="o.ref">
                        <td>Reference</td>
                        <td t-out="o.ref"/>
                    </tr>
                </table>
            </t>
            <t t-set="din5008_addresses">
                <t t-set="invoice_is_shipping" t-value="o.partner_shipping_id == o.partner_id"/>
                <td t-if="not invoice_is_shipping">
                    <div class="shipping_address">
                        <strong>Shipping Address:</strong>
                        <div t-field="o.partner_shipping_id" t-options='{"widget": "contact", "fields": ["address", "name"], "no_marker": True}'/>
                    </div>
                </td>
                <td>
                    <div class="shipping_address">
                        <strong t-if="invoice_is_shipping or o.move_type in ('in_invoice', 'in_refund')">Invoicing and Shipping Address:</strong>
                        <strong t-else="">Invoicing Address:</strong>
                        <div t-if="o.move_type in ('in_invoice', 'in_refund')" t-field="o.partner_id" t-options='{"widget": "contact", "fields": ["address", "name"], "no_marker": True}'/>
                        <div t-else="" t-field="o.partner_id" t-options='{"widget": "contact", "fields": ["address", "name"], "no_marker": True}'/>
                    </div>
                </td>
            </t>
        </xpath>
    </template>
</odoo>