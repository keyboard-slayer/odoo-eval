<?xml version="1.0" encoding="UTF-8" ?>
<templates xml:space="preserve">

<t t-name="mail.NotificationItem">
    <ActionSwiper onLeftSwipe="props.onSwipeLeft ? props.onSwipeLeft : undefined" onRightSwipe="props.onSwipeRight ? props.onSwipeRight : undefined">
        <button class="o-mail-NotificationItem list-group-item d-flex cursor-pointer align-items-center bg-view w-100 gap-2" t-att-class="{ 'o-important': props.muted === 0, 'opacity-50': props.muted === 2, 'border-start-0 border-end-0 o-mobile': ui.isSmall, 'border-top-0': props.first, 'p-2 pe-3': !ui.isSmall, 'o-active': props.isActive }" t-on-click="onClick" t-ref="root">
            <div class="o-mail-NotificationItem-avatar position-relative bg-inherit m-1 flex-shrink-0" t-att-style="ui.isSmall ? 'width:45px;height:45px;' : 'width:38px;height:38px;'">
                <img class="o_avatar w-100 h-100 rounded" alt="Notification Item Image" t-att-src="props.iconSrc"/>
                <t t-slot="icon"/>
            </div>
            <div class="o-mail-NotificationItem-content d-flex flex-column flex-grow-1 align-self-start overflow-auto" t-att-class="{ 'fs-5': ui.isSmall, 'o-muted': props.muted === 1 }">
                <div class="d-flex text-nowrap">
                    <span class="o-mail-NotificationItem-name text-truncate" t-att-class="{ 'o-discuss-itemName-discrete': props.muted }" t-esc="props.displayName"/>
                    <span class="flex-grow-1"/>
                    <small t-if="props.datetime" class="o-mail-NotificationItem-date ms-2 text-muted smaller" t-att-class="{ 'fw-bold': !props.muted }" t-att-title="props.datetime?.toLocaleString(DateTime.DATETIME_SHORT) ?? ''">
                        <t t-esc="dateText"/>
                    </small>
                </div>
                <div class="d-flex">
                    <div class="o-mail-NotificationItem-text text-truncate small" t-att-class="{ 'o-muted': props.muted }">
                        <t t-slot="body-icon"/>
                        <t t-if="props.body" t-esc="props.body" name="notificationBody"/>
                    </div>
                    <div class="flex-grow-1"/>
                    <div class="d-flex align-items-center">
                        <span t-if="props.counter > 0 and !rootHover.isHover" t-attf-class="o-mail-NotificationItem-badge o-discuss-badge {{props.muted === 2 ? 'o-muted' : ''}} d-flex align-items-center justify-content-center m-0 badge rounded-pill o-mail-NotificationItem-counter"><t t-esc="props.counter"/></span>
                        <span t-if="props.hasMarkAsReadButton and rootHover.isHover" class="text-success d-flex align-items-center justify-content-center p-1 m-0 badge rounded o-mail-NotificationItem-markAsRead text-600 cursor-pointer" title="Mark As Read" t-ref="markAsRead"><i class="fa fa-check"/></span>
                    </div>
                </div>
            </div>
            <t t-if="props.slots and props.slots.requestContent">
                <t t-slot="requestContent" />
            </t>
        </button>
    </ActionSwiper>
</t>

</templates>
