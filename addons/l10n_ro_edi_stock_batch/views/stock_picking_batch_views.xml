<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
   <record id="l10n_ro_edi_etransport_view_batch_form" model="ir.ui.view">
      <field name="name">stock.picking.batch.form.inherit.l10n_ro_edi_etransport</field>
      <field name="model">stock.picking.batch</field>
      <field name="inherit_id" ref="stock_picking_batch.stock_picking_batch_form"/>
      <field name="arch" type="xml">
         <xpath expr="//button[@name='action_open_label_layout']" position="after">
             <field name="l10n_ro_edi_etransport_should_show_send" invisible="1"/>
             <field name="l10n_ro_edi_etransport_should_show_fetch" invisible="1"/>
             <field name="l10n_ro_edi_etransport_should_show_amend" invisible="1"/>

             <button name="action_l10n_ro_edi_etransport_send_etransport" string="Send eTransport" type="object" invisible="not l10n_ro_edi_etransport_should_show_send"/>
             <button name="action_l10n_ro_edi_etransport_fetch_status" string="Fetch Status" type="object" invisible="not l10n_ro_edi_etransport_should_show_fetch"/>
             <button name="action_l10n_ro_edi_etransport_amend_etransport" string="Amend eTransport" type="object" invisible="not l10n_ro_edi_etransport_should_show_amend"/>
         </xpath>

         <xpath expr="//field[@name='scheduled_date']" position="after">
            <field name="l10n_ro_edi_etransport_should_show_send_info" invisible="1"/>
            <field name="l10n_ro_edi_etransport_message" invisible="1"/>
            <field name="l10n_ro_edi_etransport_load_id" invisible="1"/>
            <field name="l10n_ro_edi_etransport_uit" invisible="1"/>

            <field string="eTransport Status" name="l10n_ro_edi_etransport_state" widget="l10n_ro_edi_etransport_error_button" invisible="state != 'done' or not l10n_ro_edi_etransport_should_show_send_info" readonly="1"/>
            <field string="eTransport Status" name="l10n_ro_edi_etransport_state" invisible="state != 'done' or l10n_ro_edi_etransport_should_show_send_info" readonly="1"/>
             <field string="eTransport Id" name="l10n_ro_edi_etransport_load_id" invisible="not l10n_ro_edi_etransport_load_id" readonly="1"/>
             <field string="eTransport UIT" name="l10n_ro_edi_etransport_uit" invisible="not l10n_ro_edi_etransport_uit" readonly="1"/>
         </xpath>

         <xpath expr="//page[@name='page_transfers']" position="after">
             <field name="l10n_ro_edi_etransport_should_show" invisible="1"/>

             <page name="etransport" string="eTransport" invisible="not l10n_ro_edi_etransport_should_show">
                 <field name="l10n_ro_edi_stock_available_operation_scopes" invisible="1"/>
                 <field name="l10n_ro_edi_etransport_document_id" invisible="1"/>
                 <field name="l10n_ro_edi_etransport_state" invisible="1"/>
                 <field name="l10n_ro_edi_etransport_fields_readonly" invisible="1"/>

                 <group>
                     <group string="General">
                         <field name="l10n_ro_edi_stock_operation_type" string="Operation Type" readonly="l10n_ro_edi_etransport_fields_readonly"/>
                         <field name="l10n_ro_edi_stock_operation_scope" string="Operation Scope" widget="dynamic_selection" options="{'available_field': 'l10n_ro_edi_stock_available_operation_scopes'}" readonly="l10n_ro_edi_etransport_fields_readonly"/>
                         <field name="l10n_ro_edi_etransport_remarks" readonly="l10n_ro_edi_etransport_fields_readonly"/>
                     </group>

                     <group string="Transport">
                         <field name="l10n_ro_edi_stock_vehicle_number" readonly="l10n_ro_edi_etransport_fields_readonly"/>
                         <field name="l10n_ro_edi_stock_trailer_1_number" readonly="l10n_ro_edi_etransport_fields_readonly"/>
                         <field name="l10n_ro_edi_stock_trailer_2_number" readonly="l10n_ro_edi_etransport_fields_readonly"/>
                     </group>

                     <group string="Start Location">
                         <field name="l10n_ro_edi_stock_available_start_loc_types" invisible="1"/>

                         <field name="l10n_ro_edi_stock_start_loc_type" widget="dynamic_selection" options="{'available_field': 'l10n_ro_edi_stock_available_start_loc_types'}" readonly="l10n_ro_edi_etransport_fields_readonly"/>

                         <field name="l10n_ro_edi_etransport_start_bcp" readonly="l10n_ro_edi_etransport_fields_readonly" invisible="l10n_ro_edi_stock_start_loc_type != 'bcp'" />
                         <field name="l10n_ro_edi_etransport_start_customs_office" readonly="l10n_ro_edi_etransport_fields_readonly" invisible="l10n_ro_edi_stock_start_loc_type != 'customs'"/>

                         <field name="l10n_ro_edi_etransport_start_state_id" readonly="l10n_ro_edi_etransport_fields_readonly" invisible="l10n_ro_edi_stock_start_loc_type != 'location'" />
                         <field name="l10n_ro_edi_etransport_start_zip" readonly="l10n_ro_edi_etransport_fields_readonly" invisible="l10n_ro_edi_stock_start_loc_type != 'location'" />
                         <field name="l10n_ro_edi_etransport_start_city" string="City" readonly="l10n_ro_edi_etransport_fields_readonly" invisible="l10n_ro_edi_stock_start_loc_type != 'location'" />
                         <field name="l10n_ro_edi_etransport_start_street" string="Street" readonly="l10n_ro_edi_etransport_fields_readonly" invisible="l10n_ro_edi_stock_start_loc_type != 'location'" />
                         <field name="l10n_ro_edi_etransport_start_other_info" string="Other Info" readonly="l10n_ro_edi_etransport_fields_readonly" invisible="l10n_ro_edi_stock_start_loc_type != 'location'" />
                     </group>

                     <group string="End Location">
                         <field name="l10n_ro_edi_stock_available_end_loc_types" invisible="1"/>

                         <field name="l10n_ro_edi_stock_end_loc_type" widget="dynamic_selection" options="{'available_field': 'l10n_ro_edi_stock_available_end_loc_types'}" readonly="l10n_ro_edi_etransport_fields_readonly"/>

                         <field name="l10n_ro_edi_etransport_end_bcp" readonly="l10n_ro_edi_etransport_fields_readonly" invisible="l10n_ro_edi_stock_end_loc_type != 'bcp'"/>
                         <field name="l10n_ro_edi_etransport_end_customs_office" readonly="l10n_ro_edi_etransport_fields_readonly" invisible="l10n_ro_edi_stock_end_loc_type != 'customs'"/>

                         <field name="l10n_ro_edi_etransport_end_state_id" readonly="l10n_ro_edi_etransport_fields_readonly" invisible="l10n_ro_edi_stock_end_loc_type != 'location'" />
                         <field name="l10n_ro_edi_etransport_end_zip" readonly="l10n_ro_edi_etransport_fields_readonly" invisible="l10n_ro_edi_stock_end_loc_type != 'location'" />
                         <field name="l10n_ro_edi_etransport_end_city" string="City" readonly="l10n_ro_edi_etransport_fields_readonly" invisible="l10n_ro_edi_stock_end_loc_type != 'location'" />
                         <field name="l10n_ro_edi_etransport_end_street" string="Street" readonly="l10n_ro_edi_etransport_fields_readonly" invisible="l10n_ro_edi_stock_end_loc_type != 'location'" />
                         <field name="l10n_ro_edi_etransport_end_other_info" string="Other Info" readonly="l10n_ro_edi_etransport_fields_readonly" invisible="l10n_ro_edi_stock_end_loc_type != 'location'" />
                     </group>
                 </group>
             </page>
         </xpath>
      </field>
   </record>
</odoo>
