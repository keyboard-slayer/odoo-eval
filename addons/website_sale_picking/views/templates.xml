<?xml version="1.0" encoding="utf-8" ?>
<odoo>

    <template id="payment_method_form" inherit_id="payment.method_form">
        <xpath expr="//input[@name='o_payment_radio']" position="attributes">
            <attribute name="t-att-data-is-onsite">1 if provider_sudo.custom_mode == 'onsite' else 0</attribute>
        </xpath>
    </template>

    <template id="payment_confirmation_status" inherit_id="website_sale.payment_confirmation_status">
        <xpath expr="(//div[hasclass('card-body')])[1]" position="replace">
            <t t-if="tx_sudo.provider_id.custom_mode == 'onsite'">
                <div class="card-body">
                    <div class="o_header_carrier_message">
                        <b t-out="order.carrier_id.name"/><span class="text-muted"> (On site picking)</span>
                    </div>
                    <div class="o_body_carrier_message">
                        <t t-out="order.carrier_id.website_description"/>
                    </div>
                </div>
            </t>
            <t t-else="">
                <t>$0</t> <!-- Replace by old content -->
            </t>
        </xpath>
    </template>

   <template id="website_sale_product_onsite" inherit_id="website_sale.product">
       <xpath expr="//div[@id='o_wsale_cta_wrapper']" position="before">
           <owl-component
               name="website_sale_picking.ClickAndCollect"
               t-att-props="json.dumps({
                'product_id': product_variant.id,
                'zipCode': zip_code or 3000,
                'selected_wh_location': selected_wh_location or {},
               })"
           />
       </xpath>
   </template>

</odoo>
