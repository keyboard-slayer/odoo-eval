<?xml version="1.0" encoding="utf-8"?>
<odoo noupdate="1">

    <!-- resource.leave.mixin -->
    <record model="ir.rule" id="resource_leave_mixin_rule_group_user_modify">
        <field name="name">resource.leave.mixin: employee modifies own</field>
        <field name="model_id" ref="model_resource_leave_mixin"/>
        <field name="groups" eval="[(4, ref('base.group_user'))]"/>
        <field name="domain_force">[('resource_id.user_id', '=', user.id)]</field>
		<field name="perm_read" eval="False"/>
		<field name="perm_write" eval="True"/>
		<field name="perm_create" eval="True"/>
		<field name="perm_unlink" eval="True"/>
    </record>

    <record model="ir.rule" id="resource_leave_mixin_rule_multi_company">
        <field name="name">resource.leave.mixin: multi-company rule</field>
        <field name="model_id" ref="model_resource_leave_mixin"/>
        <field name="domain_force">['|', ('company_id', '=', False), ('company_id', 'in', company_ids)]</field>
    </record>

    <!-- resource.resource -->
    <record id="resource_resource_multi_company" model="ir.rule">
        <field name="name">resource.resource multi-company</field>
        <field name="model_id" ref="model_resource_resource"/>
        <field name="domain_force">['|', ('company_id', '=', False), ('company_id', 'in', company_ids)]</field>
    </record>

    <!-- resource.public.leave -->
    <record model="ir.rule" id="resource_public_leave_rule_multi_company">
        <field name="name">resource.public.leave: multi-company rule</field>
        <field name="model_id" ref="model_resource_public_leave"/>
        <field name="domain_force">['|', ('company_ids', '=', False), ('company_ids', 'in', company_ids)]</field>
    </record>
</odoo>
