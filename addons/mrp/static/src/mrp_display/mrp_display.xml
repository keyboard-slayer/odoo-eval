<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">
    <t t-name="mrp.MrpDisplay" owl="1">
        <div class="o_action o_mrp_display">
            <Layout display="display">
                <t t-if="group_mrp_routings" t-set-slot="control-panel-top-middle">
                    <t t-call="{{ constructor.buttonTemplate }}"/>
                </t>
                <t t-set-slot="control-panel-top-left">
                    <button class="btn fa fa-bars" t-on-click="toggleSearchPanel"/>
                    <img class="o_logo_img" src="/web/static/img/logo.png"/>
                    <button class="btn oi oi-view-kanban" t-if="group_mrp_routings" t-on-click="() => actionService.doAction('mrp.mrp_workcenter_kanban_action')"/>
                </t>
                <div class="d-flex flex-row flex-wrap align-items-baseline">
                    <t t-if="state.activeResModel === 'mrp.production'">
                        <t t-foreach="relevantRecords" t-as="record" t-key="record.id">
                            <MrpDisplayRecord record="record" workorders="getProductionWorkorders(record)" rawMoves="getRawMoves(record)"/>
                        </t>
                    </t>
                    <t t-elif="state.activeResModel === 'mrp.workorder'">
                        <t t-foreach="relevantRecords" t-as="record" t-key="record.id">
                            <MrpDisplayRecord record="record" rawMoves="getRawMoves(record)"/>
                        </t>
                    </t>
                </div>
            </Layout>
        </div>
    </t>

    <t t-name="mrp.MrpDisplayButtonTemplate" owl="1">
        <ControlPanelButtons workorders="workorders" selectWorkcenter="selectWorkcenter.bind(this)" activeWorkcenter="state.activeWorkcenter"/>
    </t>
</templates>
