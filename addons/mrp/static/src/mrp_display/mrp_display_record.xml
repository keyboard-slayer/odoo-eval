<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">
    <t t-name="mrp.MrpDisplayRecord" owl="1">
        <div class="o_mrp_display_record border card rounded m-4"
             t-att-class="record.state === 'progress' ? 'o_active' : ''">
            <div class="card-header" t-on-click="onClickHeader">
                <div class="card-title row">
                    <span class="col-8 h5" t-esc="record.display_name"/>
                    <span class="col-4 text-capitalize text-end">
                        <t t-if="record.state === 'confirmed'">Not started</t>
                        <t t-elif="record.state === 'progress'">In progress</t>
                        <t t-elif="record.state === 'to_close'">To close</t>
                        <t t-else="" t-esc="record.state"/>
                    </span>
                </div>
                <div class="d-flex justify-content-between">
                    <div class="o_finished_product">
                        <span class="fw-bold me-2"><t t-esc="record.product_qty || record.qty_production"/>x</span>
                        <span t-esc="record.product_id[1]"/>
                    </div>
                    <span t-if="record.duration" t-esc="record.duration"/>
                </div>
            </div>
            <ul class="list-group list-group-flush">
                <t t-foreach="props.rawMoves" t-as="move" t-key="move.resId">
                    <StockMove record="move"/>
                </t>
                <t t-foreach="workorders" t-as="workorder" t-key="workorder.resId">
                    <MrpWorkorder record="workorder"/>
                </t>
            </ul>
            <div class="card-footer d-flex p-0">
                <button t-if="displayDoneButton" class="btn btn-primary p-3 flex-grow-1"
                        t-on-click="onClickManufacturingDone">
                    Manufacturing Done
                </button>
                <button class="btn btn-secondary p-3 flex-grow-1 fa fa-bars" t-on-click="onClickOpenMenu"/>
            </div>
        </div>
    </t>
</templates>