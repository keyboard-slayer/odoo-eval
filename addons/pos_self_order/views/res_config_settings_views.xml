<?xml version="1.0"?>
<odoo>
    <record id="res_config_settings_view_form" model="ir.ui.view">
        <field name="name">res.config.settings.view.form.inherit.pos_self_order</field>
        <field name="model">res.config.settings</field>
        <field name="inherit_id" ref="point_of_sale.res_config_settings_view_form"/>
        <field name="arch" type="xml">
            <div id="warning_text_pos_self_order_kiosk" position="replace"/>
            <setting id="pos_self_order_kiosk_mode" position="inside">
                <div class="content-group" attrs="{'invisible': [('pos_self_order_kiosk_mode','=',False)]}">
                    <button action="a">Configure Payment Methods</button>
                </div>
            </setting>
            <setting id="customer_display" position="attributes">
                <attribute name="attrs">{'invisible': [('pos_self_order_kiosk_mode','=',True)]}</attribute>
            </setting>
            <setting id="customer_display" position="attributes">
                <attribute name="attrs">{'invisible': [('pos_self_order_kiosk_mode','=',True)]}</attribute>
            </setting>
            <setting string="Multi Employees per Session" position="attributes">
                <attribute name="attrs">{'invisible': [('pos_self_order_kiosk_mode','=',True)]}</attribute>
            </setting>
            <setting string="Margins &amp; Costs" position="attributes">
                <attribute name="attrs">{'invisible': [('pos_self_order_kiosk_mode','=',True)]}</attribute>
            </setting>
            <setting help="Improve navigation for imprecise industrial touchscreens" position="attributes">
                <attribute name="attrs">{'invisible': [('pos_self_order_kiosk_mode','=',True)]}</attribute>
            </setting>
            <label for="pos_fiscal_position_ids" position="attributes">
                <attribute name="attrs">{'invisible': [('pos_self_order_kiosk_mode','=',True)]}</attribute>
            </label>
            <field name="pos_fiscal_position_ids" position="attributes">
                <attribute name="attrs">{'invisible': [('pos_self_order_kiosk_mode','=',True)]}</attribute>
            </field>
            <field name="pos_fiscal_position_ids" position="attributes">
                <attribute name="attrs">{'invisible': [('pos_self_order_kiosk_mode','=',True)]}</attribute>
            </field>
            <field name="pos_fiscal_position_ids" position="attributes">
                <attribute name="attrs">{'invisible': [('pos_self_order_kiosk_mode','=',True)]}</attribute>
            </field>
            <setting class="price_control" position="attributes">
                <attribute name="attrs">{'invisible': [('pos_self_order_kiosk_mode','=',True)]}</attribute>
            </setting>
            <setting class="price_control" position="attributes">
                <attribute name="attrs">{'invisible': [('pos_self_order_kiosk_mode','=',True)]}</attribute>
            </setting>
            <setting help="Allow cashiers to set a discount per line" position="attributes">
                <attribute name="attrs">{'invisible': [('pos_self_order_kiosk_mode','=',True)]}</attribute>
            </setting>
            <setting help="Adds a button to set a global discount" position="attributes">
                <attribute name="attrs">{'invisible': [('pos_self_order_kiosk_mode','=',True)]}</attribute>
            </setting>
        <!-- TODO: remove the 'down payment' field from the Sales module -->
        </field>
    </record>

<!-- FIXME: when a user that does not have  the pos_restaurant module installed clicks on 
The 'self ordering station' setting, this self_order module will be installed.
The problem is that this code will try to access divs that would only exist if the pos_restaurant module was installed -->
     <record id="res_config_settings_view_form_menu" model="ir.ui.view">
        <field name="name">res.config.settings.view.form.inherit.pos_self_order.view</field>
        <field name="model">res.config.settings</field>
        <field name="inherit_id" ref="pos_restaurant.res_config_settings_view_form"/>
        <field name="arch" type="xml">
            <div id="warning_text_pos_self_order_view" position="replace"/>
            <setting id="pos_self_order_view_mode" position="inside" >
                <div class="content-group" attrs="{'invisible': [('pos_self_order_view_mode','=',False)]}">
                    <button name="pos_self_order.custom_link_action" type="action" string="Configure Navigation Buttons"/>
                    <button name="generate_qr_codes_page" type="object" string="Generate Qr Codes"/>
                </div>
            </setting>

        </field>
    </record>
    <record id="res_config_settings_view_form_phone" model="ir.ui.view">
        <field name="name">res.config.settings.view.form.inherit.pos_self_order.phone</field>
        <field name="model">res.config.settings</field>
        <field name="inherit_id" ref="pos_restaurant.res_config_settings_view_form"/>
        <field name="arch" type="xml">
            <setting id="pos_self_order_phone_mode" position="inside" >
                <div class="content-group" attrs="{'invisible': [('pos_self_order_phone_mode','=',False)]}">
                    <label string="Pay after" for="pos_self_order_pay_after" class="me-2"/>
                    <field name="pos_self_order_pay_after"/>
                    <button action="a">Configure Payment Providers</button>
                </div>
            </setting>
        </field>
    </record> 
</odoo>
