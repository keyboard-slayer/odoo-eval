"""
    when configuring a pos as a kiosk, there are multiple settings that no longer
    make sense, so we hide them using the code generated by this script 


    We can use this command to get all the field names ( in the clipboard )
    echo 'field_names = [' && grep -oP '(?<=<field name=")[^"]+' addons/point_of_sale/views/res_config_settings_views.xml | awk '{print "\"" $0 "\","}' | sed '1s/^/    /; $s/,$/\n]/' | xclip -selection clipboard
"""
settings_to_hide = [
    "pos_self_order_view_mode",
    "pos_self_order_table_mode",
    "account_default_pos_receivable_account_id",
    "pos_tax_regime_selection",
    "pos_default_fiscal_position_id",
    "pos_fiscal_position_ids",
    "pos_journal_id",
    "pos_invoice_journal_id",
    "pos_use_pricelist",
    "group_sale_pricelist",
    "product_pricelist_setting",
    "pos_available_pricelist_ids",
    "pos_pricelist_id",
    "pos_restrict_price_control",
    "pos_iface_tax_included",
    "pos_manual_discount",
    "pos_module_pos_discount",
    "module_loyalty",
    "pos_is_header_or_footer",
    "pos_receipt_header",
    "pos_receipt_footer",
    "pos_iface_print_auto",
    "pos_iface_print_skip_screen",
    "point_of_sale_use_ticket_qr_code",
    "point_of_sale_ticket_unique_code",
    "pos_sequence_id",
    "pos_payment_method_ids",
    "pos_auto_validate_terminal_payment",
    "pos_cash_rounding",
    "pos_rounding_method",
    "pos_only_round_cash_method",
    "pos_set_maximum_difference",
    "pos_amount_authorized_diff",
    "pos_default_bill_ids",
    "pos_iface_tipproduct",
    "pos_tip_product_id",
    "pos_iface_customer_facing_display_local",
    "pos_is_posbox",
    "pos_proxy_ip",
    "pos_iface_scan_via_proxy",
    "pos_iface_electronic_scale",
    "pos_iface_print_via_proxy",
    "pos_iface_cashdrawer",
    "pos_iface_customer_facing_display_via_proxy",
    "pos_is_order_printer",
    "pos_printer_ids",
    "module_pos_preparation_display",
    "pos_picking_type_id",
    "pos_ship_later",
    "pos_warehouse_id",
    "pos_route_id",
    "pos_picking_policy",
    "barcode_nomenclature_id",
    "update_stock_quantities",
    "pos_floor_ids",
    "pos_iface_orderline_notes",
    "pos_iface_printbill",
    "pos_iface_splitbill",
    "pos_set_tip_after_payment",
]


def return_xml(setting):
    return f"""    <xpath expr="//setting[.//field[@name='{setting}']]" position="attributes">
        <attribute name="attrs">{{'invisible': [('pos_self_order_kiosk_mode','=',True)]}}</attribute>
    </xpath>"""


for setting in settings_to_hide:
    print(return_xml(setting))
